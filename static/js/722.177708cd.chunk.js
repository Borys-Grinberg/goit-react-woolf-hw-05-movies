"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[722],{658:function(t,e,n){n.d(e,{Df:function(){return h},Jh:function(){return v},Pg:function(){return d},_r:function(){return _},z1:function(){return m}});var r=n(861),a=n(757),c=n.n(a),u=n(294),o=n(1),i=o.B.BASE_URL,s=o.B.API_KEY,f=o.B.path,p={api_key:s,language:"en-US"};u.Z.defaults.baseURL=i;var l=function(t){return new URLSearchParams(t)},h=function(){var t=(0,r.Z)(c().mark((function t(){var e,n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(f.TRENDING).concat(f.MOVIE,"/day?").concat(l(p)),t.next=3,u.Z.get(e);case 3:return n=t.sent,r=n.data,t.abrupt("return",r.results);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r,a,o,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={query:e,include_adult:!0},r="?".concat(l(p),"&").concat(l(n)),a="".concat(f.SEARCH).concat(f.MOVIE).concat(r),t.next=5,u.Z.get(a);case 5:return o=t.sent,i=o.data,t.abrupt("return",i.results);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r,a,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="?".concat(l(p)),r="".concat(f.MOVIE,"/").concat(e).concat(n),t.next=4,u.Z.get(r);case 4:return a=t.sent,o=a.data,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r,a,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="?".concat(l(p)),r="".concat(f.MOVIE,"/").concat(e,"/").concat(f.CREDITS).concat(n),t.next=4,u.Z.get(r);case 4:return a=t.sent,o=a.data,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r,a,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="?".concat(l(p)),r="".concat(f.MOVIE,"/").concat(e,"/").concat(f.REVIEWS).concat(n),t.next=4,u.Z.get(r);case 4:return a=t.sent,o=a.data,t.abrupt("return",o.results);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},505:function(t,e,n){var r=n(184);e.Z=function(t){var e=t.message;return(0,r.jsx)("div",{children:(0,r.jsx)("h2",{children:e})})}},155:function(t,e,n){n.d(e,{Z:function(){return s}});var r="MoviesList_list__0Owr9",a="MoviesList_container__0JGj2",c="MoviesList_item__eePYv",u=n(689),o=n(87),i=n(184),s=function(t){var e=t.movies,n=(0,u.TH)();return(0,i.jsx)("div",{className:a,children:(0,i.jsx)("ul",{className:r,children:e.map((function(t){return(0,i.jsx)("li",{className:c,children:(0,i.jsx)(o.rU,{to:"/movies/".concat(t.id),state:{from:n},children:t.title})},t.id)}))})})}},1:function(t,e,n){n.d(e,{B:function(){return r},T:function(){return a}});var r={BASE_URL:"https://api.themoviedb.org/3/",RESOURCE_URL:"https://image.tmdb.org/t/p/w500/",API_KEY:"236da5ba2bdceb8bb441784b05481df2",BEARER_TOKEN:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmMWRlMzRkYjQ3MTk3MmUxMjM3YTA5NTFiZjMwNTU1MCIsInN1YiI6IjY1ZTMwMDIzZTk0MmJlMDE4N2VhNmE1NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.eX18rjcH0G4tYeqYW1wlCb_TGKkgpm4XTMea_oYnc_o",path:{MOVIE:"/movie",TRENDING:"/trending",SEARCH:"/search",CREDITS:"/credits",REVIEWS:"/reviews"}},a="https://upload.wikimedia.org/wikipedia/commons/1/14/No_Image_Available.jpg"},722:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var r=n(439),a=n(87),c=n(791),u=n(658),o="SearchForm_search__N-xkz",i="SearchForm_btn__TXrR3",s=n(184),f=function(t){var e=t.onMovieSearch,n=(0,c.useState)(""),a=(0,r.Z)(n,2),u=a[0],f=a[1];return(0,s.jsxs)("form",{className:o,onSubmit:function(t){t.preventDefault(),u&&e(u)},children:[(0,s.jsx)("input",{type:"text",name:"query",onChange:function(t){f(t.target.value.trim())},autoComplete:"off",autoFocus:!0,placeholder:"Type movie name"}),(0,s.jsx)("button",{className:i,type:"submit",children:"Search"})]})},p=n(155),l=n(455),h=n(505),m=function(){var t=(0,a.lr)(),e=(0,r.Z)(t,2),n=e[0],o=e[1],i=(0,c.useState)([]),m=(0,r.Z)(i,2),d=m[0],v=m[1],_=(0,c.useState)(""),x=(0,r.Z)(_,2),E=x[0],I=x[1],Z=(0,c.useState)(!1),g=(0,r.Z)(Z,2),b=g[0],M=g[1];(0,c.useEffect)((function(){var t=n.get("query");t&&(M(!0),(0,u.z1)(t).then(v).catch((function(t){return I(t.message)})).finally(M(!1)))}),[n]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{query:n.get("query"),onMovieSearch:function(t){t&&o({query:t})}}),b&&(0,s.jsx)(l.Z,{}),E&&(0,s.jsx)(h.Z,{message:E}),0!==d.length&&(0,s.jsx)(p.Z,{movies:d})]})}}}]);
//# sourceMappingURL=722.177708cd.chunk.js.map